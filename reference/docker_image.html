<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Management commands for working with a particular docker image — docker_image • stevedore</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Management commands for working with a particular docker image — docker_image"><meta property="og:description" content="Methods for working with a particular docker image.  Image objects
are returned by building or pulling a docker image, or by using
$image$get to fetch an existing image by name or id."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">stevedore</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.9.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/stevedore.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/cookbook.html">Cookbook</a>
    </li>
    <li>
      <a href="../articles/examples.html">Examples and use-cases</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/richfitz/stevedore/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Management commands for working with a particular docker image</h1>
    <small class="dont-index">Source: <a href="https://github.com/richfitz/stevedore/blob/HEAD/R/help.R" class="external-link"><code>R/help.R</code></a></small>
    <div class="hidden name"><code>docker_image.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Methods for working with a particular docker image.  Image objects
are returned by building or pulling a docker image, or by using
<code>$image$get</code> to fetch an existing image by name or id.</p>
    </div>


    <div id="details">
    <h2>Details</h2>
    <p>Below is reference documentation for all methods for version
'1.29'
of the docker API - other versions are available. This documentation
is automatically generated from docker's API schema, and so
inaccuracies may exist between it and stevedore's interface
(especially references to JSON objects). Please report any
documentation that might be improved at
<a href="https://github.com/richfitz/stevedore/issues" class="external-link">https://github.com/richfitz/stevedore/issues</a></p><div class="section">
<h3 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h3><dl><dt><code>image_tarball</code></dt>
<dd><p>Export an image. Get a tarball containing all images and metadata for a repository.</p>
<p>If <code>name</code> is a specific name and tag (e.g. <code>ubuntu:latest</code>), then only that image (and its parents) are returned. If <code>name</code> is an image ID, similarly only that image (and its parents) are returned, but with the exclusion of the <code>repositories</code> file in the tarball, as there were no image names referenced.</p>
<p>### Image tarball format</p>
<p>An image tarball contains one directory per image layer (named using its long ID), each containing these files:</p><ul><li><p><code>VERSION</code>: currently <code>1.0</code> - the file format version</p></li>
<li><p><code>json</code>: detailed layer information, similar to <code>docker inspect layer_id</code></p></li>
<li><p><code>layer.tar</code>: A tarfile containing the filesystem changes in this layer</p></li>
</ul><p>The <code>layer.tar</code> file contains <code>aufs</code> style <code>.wh..wh.aufs</code> files and directories for storing attribute changes and deletions.</p>
<p>If the tarball defines a repository, the tarball should also include a <code>repositories</code> file at the root that contains a list of repository and tag names mapped to layer IDs.</p>
<div class="sourceCode"><pre><code><span><span class="va">json</span></span>
<span><span class="op">{</span></span>
<span>  <span class="st">"hello-world"</span><span class="op">:</span> <span class="op">{</span></span>
<span>    <span class="st">"latest"</span><span class="op">:</span> <span class="st">"565a9d68a73f6706862bfe8409a7f659776d4d60a8d096eb4a3cbce6999cc2a1"</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span></code></pre></div><p>. Similar to the cli command <code>docker image save</code>.</p><p><em>Usage:</em></p><div class="sourceCode"><pre><code><span>  <span class="fu">image_tarball</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</dd><dt><code>help</code></dt>
<dd><p>Display help for this object</p>
<p><em>Usage:</em></p><div class="sourceCode"><pre><code><span>  <span class="fu"><a href="https://rdrr.io/r/utils/help.html" class="external-link">help</a></span><span class="op">(</span>help_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"help_type"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div><p><em>Arguments:</em></p><ul><li><p><code>help_type</code>: Passed to <code><a href="https://rdrr.io/r/utils/help.html" class="external-link">utils::help</a></code>, can be one of "text", "html" or "pdf" (or an abbreviation).  By default it uses the value <code>getOption("help_type")</code> and should follow the same behaviour as other R help (e.g., using "?")</p></li>
</ul></dd><dt><code>image_history</code></dt>
<dd><p>Get the history of an image. Return parent layers of an image. Similar to the cli command <code>docker image history</code>.</p>
<p><em>Usage:</em></p><div class="sourceCode"><pre><code><span>  <span class="fu">image_history</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</dd><dt><code>id</code></dt>
<dd><p>Return the image's id</p>
<p><em>Usage:</em></p><div class="sourceCode"><pre><code><span>  <span class="fu">id</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</dd><dt><code>inspect</code></dt>
<dd><p>Return detailed information about this image. Similar to the cli command <code>docker image inspect</code>.</p>
<p><em>Usage:</em></p><div class="sourceCode"><pre><code><span>  <span class="fu">inspect</span><span class="op">(</span>reload <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div><p><em>Arguments:</em></p><ul><li><p><code>reload</code>: Logical scalar, indicating if the information should be refreshed from the daemon.  This is useful to set to <code>FALSE</code> after an image has been removed.</p></li>
</ul></dd><dt><code>labels</code></dt>
<dd><p>Return labels for this image</p>
<p><em>Usage:</em></p><div class="sourceCode"><pre><code><span>  <span class="fu"><a href="https://rdrr.io/r/base/labels.html" class="external-link">labels</a></span><span class="op">(</span>reload <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div><p><em>Arguments:</em></p><ul><li><p><code>reload</code>: Logical scalar, indicating if the information should be refreshed from the daemon.  This is useful to set to <code>FALSE</code> after an image has been removed.</p></li>
</ul></dd><dt><code>name</code></dt>
<dd><p>Return name for this image</p>
<p><em>Usage:</em></p><div class="sourceCode"><pre><code><span>  <span class="fu">name</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</dd><dt><code>reload</code></dt>
<dd><p>Refresh infomation on the image from the server, returning <code>$inspect()</code> invisibly.</p>
<p><em>Usage:</em></p><div class="sourceCode"><pre><code><span>  <span class="fu">reload</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</dd><dt><code>image_delete</code></dt>
<dd><p>Remove an image. Remove an image, along with any untagged parent images that were
referenced by that image.</p>
<p>Images can't be removed if they have descendant images, are being
used by a running container or are being used by a build. Similar to the cli command <code>docker rmi</code> or <code>docker image rm</code>.</p>
<p><em>Usage:</em></p><div class="sourceCode"><pre><code><span>  <span class="fu">image_delete</span><span class="op">(</span>force <span class="op">=</span> <span class="cn">NULL</span>, noprune <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p><em>Arguments:</em></p><ul><li><p><code>force</code>: Remove the image even if it is being used by stopped containers or has other tags</p></li>
<li><p><code>noprune</code>: Do not delete untagged parent images</p></li>
</ul></dd><dt><code>short_id</code></dt>
<dd><p>Abbreviated identifier, truncated to 10 characters (perhaps plus the leading <code>sha256:</code></p>
<p><em>Usage:</em></p><div class="sourceCode"><pre><code><span>  <span class="fu">short_id</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</dd><dt><code>image_tag</code></dt>
<dd><p>Tag an image. Tag an image so that it becomes part of a repository. Similar to the cli command <code>docker tag</code> or <code>docker image tag</code>.</p>
<p><em>Usage:</em></p><div class="sourceCode"><pre><code><span>  <span class="fu">image_tag</span><span class="op">(</span><span class="va">repo</span>, tag <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p><em>Arguments:</em></p><ul><li><p><code>repo</code>: The repository to tag in. For example, <code>someuser/someimage</code>.</p></li>
<li><p><code>tag</code>: The name of the new tag.</p></li>
</ul></dd><dt><code>tags</code></dt>
<dd><p>Return tags for this image</p>
<p><em>Usage:</em></p><div class="sourceCode"><pre><code><span>  <span class="fu">tags</span><span class="op">(</span>reload <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div><p><em>Arguments:</em></p><ul><li><p><code>reload</code>: Logical scalar, indicating if the information should be refreshed from the daemon.  This is useful to set to <code>FALSE</code> after an image has been removed.</p></li>
</ul></dd><dt><code>untag</code></dt>
<dd><p>Remove tags from the image.  This is a lot like <code>image$remove</code> (see <code><a href="docker_image_collection.html">docker_image_collection</a></code>) but with <code>noprune = TRUE</code>.</p>
<p><em>Usage:</em></p><div class="sourceCode"><pre><code><span>  <span class="fu">untag</span><span class="op">(</span><span class="va">repo_tag</span><span class="op">)</span></span></code></pre></div><p><em>Arguments:</em></p><ul><li><p><code>repo_tag</code>: Tags to remove</p></li>
</ul></dd></dl></div>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="docker_image_collection.html">docker_image_collection</a></code> for other
  image management methods.</p></div>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Rich FitzJohn.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

