<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Management commands for working with docker containers — docker_container_collection • stevedore</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Management commands for working with docker containers — docker_container_collection"><meta property="og:description" content="Methods for working with docker containers.  This object is
  $container within a docker_client object."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">stevedore</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.9.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/stevedore.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/cookbook.html">Cookbook</a>
    </li>
    <li>
      <a href="../articles/examples.html">Examples and use-cases</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/richfitz/stevedore/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Management commands for working with docker containers</h1>
    <small class="dont-index">Source: <a href="https://github.com/richfitz/stevedore/blob/HEAD/R/help.R" class="external-link"><code>R/help.R</code></a></small>
    <div class="hidden name"><code>docker_container_collection.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Methods for working with docker containers.  This object is
  <code>$container</code> within a <code><a href="docker_client.html">docker_client</a></code> object.</p>
    </div>


    <div id="details">
    <h2>Details</h2>
    <p>Below is reference documentation for all methods for version
'1.29'
of the docker API - other versions are available. This documentation
is automatically generated from docker's API schema, and so
inaccuracies may exist between it and stevedore's interface
(especially references to JSON objects). Please report any
documentation that might be improved at
<a href="https://github.com/richfitz/stevedore/issues" class="external-link">https://github.com/richfitz/stevedore/issues</a></p><div class="section">
<h3 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h3><dl><dt><code>container_create</code></dt>
<dd><p>Create a container. Similar to the cli command <code>docker create</code> or <code>docker container create</code>.</p>
<p><em>Usage:</em></p><div class="sourceCode"><pre><code><span>  <span class="fu">container_create</span><span class="op">(</span><span class="va">image</span>, cmd <span class="op">=</span> <span class="cn">NULL</span>, hostname <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>      domainname <span class="op">=</span> <span class="cn">NULL</span>, user <span class="op">=</span> <span class="cn">NULL</span>, attach_stdin <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>      attach_stdout <span class="op">=</span> <span class="cn">NULL</span>, attach_stderr <span class="op">=</span> <span class="cn">NULL</span>, ports <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>      tty <span class="op">=</span> <span class="cn">NULL</span>, open_stdin <span class="op">=</span> <span class="cn">NULL</span>, stdin_once <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>      env <span class="op">=</span> <span class="cn">NULL</span>, health_check <span class="op">=</span> <span class="cn">NULL</span>, args_escaped <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>      volumes <span class="op">=</span> <span class="cn">NULL</span>, working_dir <span class="op">=</span> <span class="cn">NULL</span>, entrypoint <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>      network_disabled <span class="op">=</span> <span class="cn">NULL</span>, mac_address <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>      on_build <span class="op">=</span> <span class="cn">NULL</span>, labels <span class="op">=</span> <span class="cn">NULL</span>, stop_signal <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>      stop_timeout <span class="op">=</span> <span class="cn">NULL</span>, shell <span class="op">=</span> <span class="cn">NULL</span>, host_config <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>      network <span class="op">=</span> <span class="cn">NULL</span>, name <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p><em>Arguments:</em></p><ul><li><p><code>image</code>: The name of the image to use when creating the container</p></li>
<li><p><code>cmd</code>: Command to run specified as a string or an array of strings.</p></li>
<li><p><code>hostname</code>: The hostname to use for the container, as a valid RFC 1123 hostname.</p></li>
<li><p><code>domainname</code>: The domain name to use for the container.</p></li>
<li><p><code>user</code>: The user that commands are run as inside the container.</p></li>
<li><p><code>attach_stdin</code>: Whether to attach to <code>stdin</code>.</p></li>
<li><p><code>attach_stdout</code>: Whether to attach to <code>stdout</code>.</p></li>
<li><p><code>attach_stderr</code>: Whether to attach to <code>stderr</code>.</p></li>
<li><p><code>ports</code>: A character vector of port mappings between the container and host, in (1) the form <code>&lt;host&gt;:&lt;container&gt;</code> (e.g., <code>10080:80</code> to map the container's port 80 to the host's port 10080), <code>&lt;ip&gt;:&lt;host&gt;:&lt;container&gt;</code> to bind a specific host interface as well as a port (e.g., you can use <code>localhost</code> or <code>127.0.0.1</code> for the first element), (3) form <code>&lt;port&gt;</code> to map the containers port to a random available port on the host s shorthand for <code>&lt;port&gt;:&lt;port&gt;</code>, or (3) a single logical value <code>TRUE</code> indicating to map all container ports to random available ports on the host. You can use the <code>$ports()</code> method in the <code><a href="docker_container.html">docker_container</a></code> object to query the port mapping of a running container.  Multiple values can be provided to map multiple ports to the host (e.g., <code>c("80", "443:443")</code>.</p></li>
<li><p><code>tty</code>: Attach standard streams to a TTY, including <code>stdin</code> if it is not closed.</p></li>
<li><p><code>open_stdin</code>: Open <code>stdin</code></p></li>
<li><p><code>stdin_once</code>: Close <code>stdin</code> after one attached client disconnects</p></li>
<li><p><code>env</code>: A list of environment variables to set inside the container in the form <code>["VAR=value", ...]</code>. A variable without <code>=</code> is removed from the environment, rather than to have an empty value.</p></li>
<li><p><code>health_check</code>: A test to perform to check that the container is healthy. Construct with <code>$types$health_config()</code></p></li>
<li><p><code>args_escaped</code>: Command is already escaped (Windows only)</p></li>
<li><p><code>volumes</code>: A character vector of mappings of mount points on the host (or in volumes) to paths on the container.  Each element must be of the form <code>&lt;path_host&gt;:&lt;path_container&gt;</code>, possibly followed by <code>:ro</code> for read-only mappings (i.e., the same syntax as the docker command line client).
<code><a href="docker_volume.html">docker_volume</a></code> objects have a <code>$map</code> method to help with generating these paths for volume mappings.</p></li>
<li><p><code>working_dir</code>: The working directory for commands to run in.</p></li>
<li><p><code>entrypoint</code>: The entry point for the container as a string or an array of strings.</p>
<p>If the array consists of exactly one empty string (<code>[""]</code>) then the entry point is reset to system default (i.e., the entry point used by docker when there is no <code>ENTRYPOINT</code> instruction in the <code>Dockerfile</code>).</p></li>
<li><p><code>network_disabled</code>: Disable networking for the container.</p></li>
<li><p><code>mac_address</code>: MAC address of the container.</p></li>
<li><p><code>on_build</code>: <code>ONBUILD</code> metadata that were defined in the image's <code>Dockerfile</code>.</p></li>
<li><p><code>labels</code>: User-defined key/value metadata.</p></li>
<li><p><code>stop_signal</code>: Signal to stop a container as a string or unsigned integer.</p></li>
<li><p><code>stop_timeout</code>: Timeout to stop a container in seconds.</p></li>
<li><p><code>shell</code>: Shell for when <code>RUN</code>, <code>CMD</code>, and <code>ENTRYPOINT</code> uses a shell.</p></li>
<li><p><code>host_config</code>: Container configuration that depends on the host we are running on</p></li>
<li><p><code>network</code>: This container's networking configuration.</p></li>
<li><p><code>name</code>: Assign the specified name to the container. Must match <code>/?[a-zA-Z0-9_-]+</code>.</p></li>
</ul></dd><dt><code>get</code></dt>
<dd><p>Get a container by name or id</p>
<p><em>Usage:</em></p><div class="sourceCode"><pre><code><span>  <span class="fu"><a href="https://rdrr.io/r/base/get.html" class="external-link">get</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span></code></pre></div><p><em>Arguments:</em></p><ul><li><p><code>id</code>: A scalar character with the container's name or id (abbreviations of the id are allowed and will be resolved by the docker daemon).</p></li>
</ul></dd><dt><code>help</code></dt>
<dd><p>Display help for this object</p>
<p><em>Usage:</em></p><div class="sourceCode"><pre><code><span>  <span class="fu"><a href="https://rdrr.io/r/utils/help.html" class="external-link">help</a></span><span class="op">(</span>help_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"help_type"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div><p><em>Arguments:</em></p><ul><li><p><code>help_type</code>: Passed to <code><a href="https://rdrr.io/r/utils/help.html" class="external-link">utils::help</a></code>, can be one of "text", "html" or "pdf" (or an abbreviation).  By default it uses the value <code>getOption("help_type")</code> and should follow the same behaviour as other R help (e.g., using "?")</p></li>
</ul></dd><dt><code>container_list</code></dt>
<dd><p>List containers. Similar to the cli command <code>docker ps</code> or <code>docker container ls</code>.</p>
<p><em>Usage:</em></p><div class="sourceCode"><pre><code><span>  <span class="fu">container_list</span><span class="op">(</span>all <span class="op">=</span> <span class="cn">NULL</span>, limit <span class="op">=</span> <span class="cn">NULL</span>, size <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>      filters <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p><em>Arguments:</em></p><ul><li><p><code>all</code>: Return all containers. By default, only running containers are shown</p></li>
<li><p><code>limit</code>: Return this number of most recently created containers, including non-running ones.</p></li>
<li><p><code>size</code>: Return the size of container as fields <code>SizeRw</code> and <code>SizeRootFs</code>.</p></li>
<li><p><code>filters</code>: Filters to process on the container list, as a named character vector.  For example <code>c(status = "paused")</code> will only return paused containers. Available filters:</p><ul><li><p><code>ancestor</code>=(<code>&lt;image-name&gt;[:&lt;tag&gt;]</code>, <code>&lt;image id&gt;</code>, or <code>&lt;image@digest&gt;</code>)</p></li>
<li><p><code>before</code>=(<code>&lt;container id&gt;</code> or <code>&lt;container name&gt;</code>)</p></li>
<li><p><code>expose</code>=(<code>&lt;port&gt;[/&lt;proto&gt;]</code>|<code>&lt;startport-endport&gt;/[&lt;proto&gt;]</code>)</p></li>
<li><p><code>exited=&lt;int&gt;</code> containers with exit code of <code>&lt;int&gt;</code></p></li>
<li><p><code>health</code>=(<code>starting</code>|<code>healthy</code>|<code>unhealthy</code>|<code>none</code>)</p></li>
<li><p><code>id=&lt;ID&gt;</code> a container's ID</p></li>
<li><p><code>isolation=</code>(<code>default</code>|<code>process</code>|<code>hyperv</code>) (Windows daemon only)</p></li>
<li><p><code>is-task=</code>(<code>true</code>|<code>false</code>)</p></li>
<li><p><code>label=key</code> or <code>label="key=value"</code> of a container label</p></li>
<li><p><code>name=&lt;name&gt;</code> a container's name</p></li>
<li><p><code>network</code>=(<code>&lt;network id&gt;</code> or <code>&lt;network name&gt;</code>)</p></li>
<li><p><code>publish</code>=(<code>&lt;port&gt;[/&lt;proto&gt;]</code>|<code>&lt;startport-endport&gt;/[&lt;proto&gt;]</code>)</p></li>
<li><p><code>since</code>=(<code>&lt;container id&gt;</code> or <code>&lt;container name&gt;</code>)</p></li>
<li><p><code>status=</code>(<code>created</code>|<code>restarting</code>|<code>running</code>|<code>removing</code>|<code>paused</code>|<code>exited</code>|<code>dead</code>)</p></li>
<li><p><code>volume</code>=(<code>&lt;volume name&gt;</code> or <code>&lt;mount point destination&gt;</code>)</p></li>
</ul></li>
</ul></dd><dt><code>container_prune</code></dt>
<dd><p>Delete stopped containers. Similar to the cli command <code>docker container prune</code>.</p>
<p><em>Usage:</em></p><div class="sourceCode"><pre><code><span>  <span class="fu">container_prune</span><span class="op">(</span>filters <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p><em>Arguments:</em></p><ul><li><p><code>filters</code>: Filters to process on the prune list, as a named character vector.</p><ul><li><p><code>until=&lt;timestamp&gt;</code> Prune containers created before this timestamp. The <code>&lt;timestamp&gt;</code> can be Unix timestamps, date formatted timestamps, or Go duration strings (e.g. <code>10m</code>, <code>1h30m</code>) computed relative to the daemon machine's time.</p></li>
</ul></li>
</ul></dd><dt><code>container_delete</code></dt>
<dd><p>Remove a container. Similar to the cli command <code>docker rm</code> or <code>docker container rm</code>.</p>
<p><em>Usage:</em></p><div class="sourceCode"><pre><code><span>  <span class="fu">container_delete</span><span class="op">(</span><span class="va">id</span>, delete_volumes <span class="op">=</span> <span class="cn">NULL</span>, force <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>      link <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p><em>Arguments:</em></p><ul><li><p><code>id</code>: ID or name of the container</p></li>
<li><p><code>delete_volumes</code>: Remove the volumes associated with the container.</p></li>
<li><p><code>force</code>: If the container is running, kill it before removing it.</p></li>
<li><p><code>link</code>: Remove the specified link associated with the container.</p></li>
</ul></dd><dt><code>run</code></dt>
<dd><p>Run a command in a new container. This method does rather a lot, and wraps several other methods.
It aims to mimic the behaviour of <code>docker run</code> in the command
line tool.  It will:</p><ul><li><p>Try to pull a container if it does not yet exist (see
  <code>$pull</code> in <code><a href="docker_image_collection.html">docker_image_collection</a></code>)</p></li>
<li><p>Create the container (see <code>$create</code> in
  <code>docker_container_collection</code>)</p></li>
<li><p>Start the container (see <code>$start</code> in <code><a href="docker_container.html">docker_container</a></code>)</p></li>
<li><p>Optionally stream the logs, if not detached (see
  <code>$logs</code> in <code><a href="docker_container.html">docker_container</a></code></p></li>
<li><p>Wait for the container to finish (see <code>$wait</code> in
  <code><a href="docker_container.html">docker_container</a></code>)</p></li>
</ul><p>It returns a list with a container object as
<code>"container"</code> and a <code>"docker_stream"</code> object
containing logs as <code>"logs"</code>).  If <code>rm = TRUE</code> and
<code>detach = TRUE</code> the container object will be of limited
utility and you will need to use <code>reload = FALSE</code> on many
methods (and some will not work) as the container will have
been removed on exit.</p>
<p>Unlike the command line version, interrupting the streaming
logs will not necessarily kill the container but may leave it
running in the background.</p>
<p>Unlike the command line version, the <code>attach = TRUE</code>
simply attaches the output of the container and blocks
the R session until it is complete.  There is currently no way
of sending input into the docker container. Similar to the cli command <code>docker run</code>.</p><p><em>Usage:</em></p><div class="sourceCode"><pre><code><span>  <span class="fu">run</span><span class="op">(</span><span class="va">image</span>, cmd <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span>, detach <span class="op">=</span> <span class="cn">FALSE</span>, rm <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>      stream <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/showConnections.html" class="external-link">stdout</a></span><span class="op">(</span><span class="op">)</span>, host_config <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p><em>Arguments:</em></p><ul><li><p><code>image</code>: Image to run.  Can be a name, id, or a <code><a href="docker_image.html">docker_image</a></code> object.</p></li>
<li><p><code>cmd</code>: Command to run in the container.  Must be a character vector.  If not specified then the default <code>ENTRYPOINT</code> and <code>CMD</code> will be used (see the docker documentation for details)</p></li>
<li><p><code>...</code>: Additional arguments passed through to <code>$create</code> (see <code>docker_container_collection</code>.  There are many possible arguments here.</p></li>
<li><p><code>detach</code>: Detach the container as soon as it has started and return control to R.  The container will run in the background. The returned object can be used to interrogate the container afterwards (see <code><a href="docker_container.html">docker_container</a></code>).</p></li>
<li><p><code>rm</code>: Remove the container on exit.</p></li>
<li><p><code>stream</code>: The stream to use to send output to, if <code>detach = FALSE</code>.  The default uses the standard output stream (i.e., where <code>cat</code> would send output).  Other valid values are an R connection object, a string (interpreted as a filename) or <code>FALSE</code> to prevent any output.</p></li>
<li><p><code>host_config</code>: Passed through to <code>$create</code>, as with <code>...</code>.</p></li>
</ul></dd></dl></div>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="docker_container.html">docker_container</a></code> for information on
  container objects.</p></div>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Rich FitzJohn.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

