<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Management commands for working with docker services — docker_service_collection • stevedore</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Management commands for working with docker services — docker_service_collection"><meta property="og:description" content="Methods for working with docker services.  This object is
  $service within a docker_client object."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">stevedore</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.9.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/stevedore.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/cookbook.html">Cookbook</a>
    </li>
    <li>
      <a href="../articles/examples.html">Examples and use-cases</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/richfitz/stevedore/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Management commands for working with docker services</h1>
    <small class="dont-index">Source: <a href="https://github.com/richfitz/stevedore/blob/HEAD/R/help.R" class="external-link"><code>R/help.R</code></a></small>
    <div class="hidden name"><code>docker_service_collection.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Methods for working with docker services.  This object is
  <code>$service</code> within a <code><a href="docker_client.html">docker_client</a></code> object.</p>
    </div>


    <div id="details">
    <h2>Details</h2>
    <p>Below is reference documentation for all methods for version
'1.29'
of the docker API - other versions are available. This documentation
is automatically generated from docker's API schema, and so
inaccuracies may exist between it and stevedore's interface
(especially references to JSON objects). Please report any
documentation that might be improved at
<a href="https://github.com/richfitz/stevedore/issues" class="external-link">https://github.com/richfitz/stevedore/issues</a></p><div class="section">
<h3 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h3><dl><dt><code>service_create</code></dt>
<dd><p>Create a service. Similar to the cli command <code>docker service create</code>.</p>
<p><em>Usage:</em></p><div class="sourceCode"><pre><code><span>  <span class="fu">service_create</span><span class="op">(</span>name <span class="op">=</span> <span class="cn">NULL</span>, labels <span class="op">=</span> <span class="cn">NULL</span>, image <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>      container_spec_labels <span class="op">=</span> <span class="cn">NULL</span>, command <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>      args <span class="op">=</span> <span class="cn">NULL</span>, hostname <span class="op">=</span> <span class="cn">NULL</span>, env <span class="op">=</span> <span class="cn">NULL</span>, dir <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>      user <span class="op">=</span> <span class="cn">NULL</span>, groups <span class="op">=</span> <span class="cn">NULL</span>, tty <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>      open_stdin <span class="op">=</span> <span class="cn">NULL</span>, read_only <span class="op">=</span> <span class="cn">NULL</span>, mounts <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>      stop_signal <span class="op">=</span> <span class="cn">NULL</span>, stop_grace_period <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>      health_check <span class="op">=</span> <span class="cn">NULL</span>, hosts <span class="op">=</span> <span class="cn">NULL</span>, dns_config <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>      secrets <span class="op">=</span> <span class="cn">NULL</span>, resources <span class="op">=</span> <span class="cn">NULL</span>, restart_policy <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>      placement <span class="op">=</span> <span class="cn">NULL</span>, force_update <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>      task_spec_networks <span class="op">=</span> <span class="cn">NULL</span>, log_driver <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>      update_config <span class="op">=</span> <span class="cn">NULL</span>, rollback_config <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>      networks <span class="op">=</span> <span class="cn">NULL</span>, endpoint_spec <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>      registry_auth <span class="op">=</span> <span class="cn">NULL</span>, stream <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/showConnections.html" class="external-link">stdout</a></span><span class="op">(</span><span class="op">)</span>, replicas <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>      global <span class="op">=</span> <span class="cn">FALSE</span>, detach <span class="op">=</span> <span class="cn">FALSE</span>, timeout <span class="op">=</span> <span class="fl">60</span>,</span>
<span>      time_wait_stable <span class="op">=</span> <span class="fl">5</span>, task_template <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>      container_spec <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p><em>Arguments:</em></p><ul><li><p><code>name</code>: Name of the service.</p></li>
<li><p><code>labels</code>: User-defined key/value metadata.</p></li>
<li><p><code>image</code>: The image name to use for the container.</p></li>
<li><p><code>container_spec_labels</code>: User-defined key/value data.</p></li>
<li><p><code>command</code>: The command to be run in the image.</p></li>
<li><p><code>args</code>: Arguments to the command.</p></li>
<li><p><code>hostname</code>: The hostname to use for the container, as a valid RFC 1123 hostname.</p></li>
<li><p><code>env</code>: A list of environment variables in the form <code>VAR=value</code>.</p></li>
<li><p><code>dir</code>: The working directory for commands to run in.</p></li>
<li><p><code>user</code>: The user inside the container.</p></li>
<li><p><code>groups</code>: A list of additional groups that the container process will run as.</p></li>
<li><p><code>tty</code>: Whether a pseudo-TTY should be allocated.</p></li>
<li><p><code>open_stdin</code>: Open <code>stdin</code></p></li>
<li><p><code>read_only</code>: Mount the container's root filesystem as read only.</p></li>
<li><p><code>mounts</code>: Specification for mounts to be added to containers created as part of the service.</p></li>
<li><p><code>stop_signal</code>: Signal to stop the container.</p></li>
<li><p><code>stop_grace_period</code>: Amount of time to wait for the container to terminate before forcefully killing it.</p></li>
<li><p><code>health_check</code>: A test to perform to check that the container is healthy. Construct with <code>$types$health_config()</code></p></li>
<li><p><code>hosts</code>: A list of hostnames/IP mappings to add to the container's <code>/etc/hosts</code> file.
The format of extra hosts on swarmkit is specified in:
http://man7.org/linux/man-pages/man5/hosts.5.html
  IP_address canonical_hostname [aliases...]</p></li>
<li><p><code>dns_config</code>: Specification for DNS related configurations in resolver configuration file (<code>resolv.conf</code>). Construct with <code>$types$dns_config()</code></p></li>
<li><p><code>secrets</code>: Secrets contains references to zero or more secrets that will be exposed to the service.</p></li>
<li><p><code>resources</code>: Resource requirements which apply to each individual container created as part of the service. Construct with <code>$types$task_resources()</code></p></li>
<li><p><code>restart_policy</code>: Specification for the restart policy which applies to containers created as part of this service. Construct with <code>$types$task_restart_policy()</code></p></li>
<li><p><code>placement</code>: Construct with <code>$types$task_placement()</code></p></li>
<li><p><code>force_update</code>: A counter that triggers an update even if no relevant parameters have been changed.</p></li>
<li><p><code>task_spec_networks</code>: NA</p></li>
<li><p><code>log_driver</code>: Specifies the log driver to use for tasks created from this spec. If not present, the default one for the swarm will be used, finally falling back to the engine default if not specified.</p></li>
<li><p><code>update_config</code>: Specification for the update strategy of the service.</p></li>
<li><p><code>rollback_config</code>: Specification for the rollback strategy of the service.</p></li>
<li><p><code>networks</code>: Array of network names or IDs to attach the service to.</p></li>
<li><p><code>endpoint_spec</code>: Properties that can be configured to access and load balance a service.</p></li>
<li><p><code>registry_auth</code>: A base64-encoded auth configuration for pulling from private registries. hrefhttps://docs.docker.com/engine/api/1.29/#section/AuthenticationSee the authentication section for details.</p></li>
<li><p><code>stream</code>: The stream to send output to.  Options here are (1) a connection object (e.g. <code><a href="https://rdrr.io/r/base/showConnections.html" class="external-link">stdout()</a></code>, <code><a href="https://rdrr.io/r/base/showConnections.html" class="external-link">stderr()</a></code> or a writable open file connection object, (2) a scalar character indicating a filename to write to, or (3) <code>FALSE</code> or <code>NULL</code> to disable any output.</p></li>
<li><p><code>replicas</code>: Number of replicas to use.  If <code>NULL</code> (the default) then a single replica is used (the same behaviour as the command line client).</p></li>
<li><p><code>global</code>: Logical, indicating if this should be a "global" service (running one instance on each node) rather than a "replicated" service (running across nodes - the default).</p></li>
<li><p><code>detach</code>: Logical, indicating if we should exit immediately, rather than waiting for the service to converge.  This option is named for consistency with <code>docker service create</code> - this command never "attaches" in the sense of a single container.</p></li>
<li><p><code>timeout</code>: Time, in seconds, to wait for the service to converge when <code>detach = FALSE</code>.  If the service has not converged by this time an error will be thrown, but the docker daemon will continue trying to start the service.</p></li>
<li><p><code>time_wait_stable</code>: Time, in seconds, to wait for the service to stay up after it has started.  This is needed to detect services that fail shortly after starting.  The default is 5 seconds, which matches the command line client.</p></li>
<li><p><code>task_template</code>: User modifiable task configuration. Construct with <code>$types$task_spec()</code>.  If this is given then 'container_spec', 'resources', 'restart_policy', 'placement', 'force_update', 'task_spec_networks' and 'log_driver' must all be NULL.</p></li>
<li><p><code>container_spec</code>: Construct with <code>$types$container_spec()</code>.  If this is given then 'image', 'container_spec_labels', 'command', 'args', 'hostname', 'env', 'dir', 'user', 'groups', 'tty', 'open_stdin', 'read_only', 'mounts', 'stop_signal', 'stop_grace_period', 'health_check', 'hosts', 'dns_config' and 'secrets' must all be NULL.</p></li>
</ul></dd><dt><code>get</code></dt>
<dd><p>Get a service by name or id</p>
<p><em>Usage:</em></p><div class="sourceCode"><pre><code><span>  <span class="fu"><a href="https://rdrr.io/r/base/get.html" class="external-link">get</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span></code></pre></div><p><em>Arguments:</em></p><ul><li><p><code>id</code>: A scalar character with the network's name or id (abbreviations of the id are allowed and will be resolved by the docker daemon).</p></li>
</ul></dd><dt><code>help</code></dt>
<dd><p>Display help for this object</p>
<p><em>Usage:</em></p><div class="sourceCode"><pre><code><span>  <span class="fu"><a href="https://rdrr.io/r/utils/help.html" class="external-link">help</a></span><span class="op">(</span>help_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"help_type"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div><p><em>Arguments:</em></p><ul><li><p><code>help_type</code>: Passed to <code><a href="https://rdrr.io/r/utils/help.html" class="external-link">utils::help</a></code>, can be one of "text", "html" or "pdf" (or an abbreviation).  By default it uses the value <code>getOption("help_type")</code> and should follow the same behaviour as other R help (e.g., using "?")</p></li>
</ul></dd><dt><code>service_list</code></dt>
<dd><p>List services. Similar to the cli command <code>docker service list</code>.</p>
<p><em>Usage:</em></p><div class="sourceCode"><pre><code><span>  <span class="fu">service_list</span><span class="op">(</span>filters <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p><em>Arguments:</em></p><ul><li><p><code>filters</code>: A named character vector of filters to process on the services list. Available filters:</p><ul><li><p><code>id=&lt;service id&gt;</code></p></li>
<li><p><code>label=&lt;service label&gt;</code></p></li>
<li><p><code>mode=["replicated"|"global"]</code></p></li>
<li><p><code>name=&lt;service name&gt;</code></p></li>
</ul></li>
</ul></dd><dt><code>service_delete</code></dt>
<dd><p>Delete a service. Similar to the cli command <code>docker service rm</code>.</p>
<p><em>Usage:</em></p><div class="sourceCode"><pre><code><span>  <span class="fu">service_delete</span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span></code></pre></div><p><em>Arguments:</em></p><ul><li><p><code>id</code>: ID or name of service.</p></li>
</ul></dd></dl></div>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="docker_service.html">docker_service</a></code> for information on
  service objects.</p></div>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Rich FitzJohn.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

